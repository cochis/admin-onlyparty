<app-header titulo="Usuarios"></app-header>

<ion-content class="ion-padding">
  <ion-searchbar [debounce]="500" (ionInput)="handleInput($event)"></ion-searchbar>
  <ion-fab horizontal="end" vertical="bottom">
    <ion-fab-button>
      <ion-icon name="add" routerLink="/core/usuarios/crear-usuario"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <div class="mat-elevation-z8 displayBlock ion-padding" tabindex="0" style="margin-top: 60px;">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="img">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Imagen</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;">


          <ion-avatar slot="start">
            <img [alt]="row.email" src="{{url}}/upload/usuarios/{{ row.img }}" class="avatar" />
          </ion-avatar>



        </td>
      </ng-container>
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Nombre</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.nombre }}</td>
      </ng-container>
      <ng-container matColumnDef="apellidoPaterno">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Apellido Paterno</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.apellidoPaterno }}</td>
      </ng-container>
      <ng-container matColumnDef="apellidoMaterno">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Apellido Materno</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.apellidoMaterno }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Correo electr√≥nico</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.email }}</td>
      </ng-container>

      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Rol</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.role }}</td>
      </ng-container>
      <ng-container matColumnDef="google">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Google</th>
        <td mat-cell *matCellDef="let row" style="font-size: 10px;"> {{ row.google }}</td>
      </ng-container>

      <ng-container matColumnDef="opciones">
        <th mat-header-cell *matHeaderCellDef style="font-size: 12px;">Opciones</th>
        <td mat-cell *matCellDef="let row">
          <ion-icon slot="start" name="pencil" style="margin: 1px;" color="success"
            (click)="editUsuario(row)"></ion-icon>
          <ion-icon name="eye" style="margin: 1px;" color="secondary" (click)="viewUsuario(row)"></ion-icon>
          <ion-icon slot="end" name="checkmark" style="margin: 1px;" color="success" (click)="isActive(row)"
            *ngIf="!row.activated"></ion-icon>
          <ion-icon slot="end" name="trash" style="margin: 1px;" color="danger" (click)="isActive(row)"
            *ngIf="row.activated"></ion-icon>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>

        <td class="mat-cell" colspan="4">No se encontraron datos"</td>
      </tr>
    </table>

  </div>

  <mat-paginator [pageSizeOptions]="[100,200,500]" aria-label="Select page of data"></mat-paginator>

</ion-content>